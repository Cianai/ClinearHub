---
description: Mechanical cross-surface status sync — write current state to Linear + GitHub surfaces
argument-hint: "[--surfaces <linear,github,all>] [--project <name>]"
---

# Sync Status

Write current project state to system surfaces. Distinct from `/stakeholder-update` (which composes narrative prose for humans) — this command mechanically updates system records to keep them current.

**When to use:** After every significant change (feature shipped, milestone hit, deploy completed). Not on a fixed cadence — trigger-driven.

**Automated equivalent:** The `post-merge-reconciliation.yml` GitHub Action performs Tier 2 (milestone/initiative updates) and Tier 3 (README/release draft) automatically on every PR merge. Use `/sync-status` as a manual override for non-PR-merge scenarios (spikes, manual closures, ad-hoc syncs, or when the Action hasn't run yet).

## Surfaces

| Surface | What Gets Updated | Tool |
|---------|-------------------|------|
| Linear initiative | Status update + health signal | `save_status_update` |
| Linear milestone | Progress %, target date, confidence | `save_milestone` |
| Linear project | Description with current metrics, last deploy | `save_project` |
| GitHub README | Badges section, recent changes summary | `create_or_update_file` |
| GitHub Release (draft) | Changelog entries since last release | GitHub MCP |

## Arguments

| Flag | Default | Behavior |
|------|---------|----------|
| `--surfaces all` | `all` | Update all surfaces |
| `--surfaces linear` | — | Linear only (initiative, milestone, project) |
| `--surfaces github` | — | GitHub only (README, release draft) |
| `--project <name>` | Auto-detect | Specific project to sync |

## Step 1: Gather Current State

### From Linear
```
list_initiatives()
list_milestones()
list_issues(team: "Claudian", state: "Done", limit: 10)  # Recent completions
list_cycles(team: "Claudian", limit: 1)  # Current cycle progress
```

### From GitHub (if --surfaces includes github)
```
get_file_contents(owner: "<owner>", repo: "<repo>", path: "README.md")
list_commits(owner: "<owner>", repo: "<repo>", limit: 10)
```

### From Vercel/Sentry (if connected)
- Last deploy timestamp and status
- Current error rate

## Step 2: Update Linear Surfaces

### Initiative Status Update

For each active initiative:
```
save_status_update(
  type: "initiative",
  id: "<initiative_id>",
  health: "onTrack" | "atRisk" | "offTrack",
  body: "<auto-generated status from current data>"
)
```

Status body format:
```markdown
**Auto-sync — <date>**

Cycle: <N>/<M> pts (<X>%). Milestones: <status summary>.
Recent: <1-2 key completions>.
```

### Milestone Update

For milestones with changed progress:
```
save_milestone(
  id: "<milestone_id>",
  description: "<updated description with current progress>"
)
```

### Project Description

Update the project description with current metrics:
```
save_project(
  id: "<project_id>",
  description: "<updated description with metrics snapshot>"
)
```

## Step 3: Update GitHub Surfaces

### README Badge Section

Write to a demarcated section in README.md:

```markdown
<!-- CLH:START -->
![Version](badge-url) ![Commands](badge-url) ![Skills](badge-url)

**Last sync:** <date> | **Last deploy:** <date> | **Cycle:** <N>/<M> pts
<!-- CLH:END -->
```

Only content between `<!-- CLH:START -->` and `<!-- CLH:END -->` markers is modified. If markers don't exist, skip this step (don't create them automatically — the user should add them).

```
create_or_update_file(
  owner: "<owner>",
  repo: "<repo>",
  path: "README.md",
  content: "<updated README with CLH section>",
  message: "chore: sync status [CLH]",
  sha: "<current file sha>"
)
```

### GitHub Release Draft

If there are unreleased changes since the last tag:
```
# Gather commits since last tag
list_commits(owner: "<owner>", repo: "<repo>", since: "<last_tag_date>")
```

Create or update a draft release with changelog entries. Do not publish — drafts are reviewed before publishing.

## Step 4: Confirm

Output a summary of what was updated:

```markdown
## Sync Status — <date>

| Surface | Status | Details |
|---------|--------|---------|
| Linear initiative: <name> | Updated | Health: onTrack |
| Linear milestone: <name> | Updated | Progress: 60% |
| Linear project: <name> | Updated | Description refreshed |
| GitHub README | Updated | CLH section refreshed |
| GitHub Release draft | Created | 5 commits since v0.3.0 |
```

## Connector Tier

| Connector | Tier | Access |
|-----------|------|--------|
| Linear | Core | R/W (initiatives, milestones, projects, status updates) |
| GitHub | Core | R/W (file contents, releases, commits) |
| Vercel | Enhanced | R (deploy status — enriches sync data) |
| Sentry | Enhanced | R (error rates — enriches sync data) |
